<html>
  <script src="https://cdn.jsdelivr.net/npm/easy-soap-request/dist/easy-soap-request.js"></script>
  <script>
    const url = "http://192.168.0.190/webservice/cwebservice.asmx?wsdl";
    const sampleHeaders = {
      "Content-Type": "text/xml;charset=UTF-8",
      "Access-Control-Allow-Origin": "*",
      SOAPAction: "Counts"
    };
    const xml = `<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:tiam="http://www.tiama-inspection.com/">
                  <soapenv:Header/>
                    <soapenv:Body>
                     <tiam:Counts/>
                    </soapenv:Body>
                  </soapenv:Envelope>`;
    // const xml = `<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:tiam="http://www.tiama-inspection.com/">
    //             <soapenv:Header/>
    //             <soapenv:Body>
    //             <tiam:Counts/>
    //             </soapenv:Body>
    //             </soapenv:Envelope>`;
    async function makeRequest() {
      const { response } = await soapRequest({
        url: url,
        headers: sampleHeaders,
        xml: xml,
        timeout: 6000
      });
      const { headers, body, statusCode } = response;
      console.log(headers);
      console.log(body);
      console.log(statusCode);
      document.body.innerHTML = body;
    }
    makeRequest();
  </script>
  <body></body>
</html>
